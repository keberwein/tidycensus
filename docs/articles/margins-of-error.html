<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Margins of error in the ACS • tidycensus</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">tidycensus</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/basic-usage.html">Basic usage of tidycensus</a>
</li>
<li>
  <a href="../articles/spatial-data.html">Spatial data in tidycensus</a>
</li>
<li>
  <a href="../articles/margins-of-error.html">Margins of error in the ACS</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/walkerke/tidycensus">
    <span class="fa fa-github fa-lg"></span>
     
    Source
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Margins of error in the ACS</h1>
            
          </div>

    
    
<div class="contents">
<p>As opposed to the decennial Census datasets available with <strong>tidycensus</strong>, datasets from the five-year American Community Survey include <em>estimates</em> with an associated <em>margin of error</em>, as the ACS is based on an annual sample of around 3 million households. As explained by the Census Bureau:</p>
<blockquote>
<p>While the main function of the decennial census is to provide <em>counts</em> of people for the purpose of congressional apportionment and legislative redistricting, the primary purpose of the ACS is to measure the changing social and economic <em>characteristics</em> of the U.S. population. As a result, the ACS does not provide official counts of the population in between censuses. <a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
</blockquote>
<p>In turn, ACS data <strong>do not</strong> represent precise counts of population subgroups, but are rather designed to give a general sense of how socioeconomic indicators vary across the country. In many cases, ACS margins of error can be quite large - at times exceeding the estimate. Let’s say we want to study aging populations in Ramsey County, Minnesota from the 2011-2015 ACS by Census tracts. We can pull up a dataset with <code>get_acs</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidycensus)
<span class="kw">library</span>(tidyverse)

<span class="co"># We need to construct a vector of variables for males and females age 65 and up</span>
<span class="co"># purrr can help us with this (I may build this in to tidycensus in the future)</span>

vars &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">"B01001_0"</span>, <span class="kw">c</span>(<span class="dv">20</span><span class="op">:</span><span class="dv">25</span>, <span class="dv">44</span><span class="op">:</span><span class="dv">49</span>))

ramsey &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_acs.html">get_acs</a></span>(<span class="dt">geography =</span> <span class="st">"tract"</span>, <span class="dt">variables =</span> vars, <span class="dt">state =</span> <span class="st">"MN"</span>, <span class="dt">county =</span> <span class="st">"Ramsey"</span>)

<span class="kw">head</span>(ramsey <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>NAME))</code></pre></div>
<pre><code>## # A tibble: 6 x 4
##         GEOID   variable estimate   moe
##         &lt;chr&gt;      &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1 27123030100 B01001_020       51    27
## 2 27123030100 B01001_021       92    40
## 3 27123030100 B01001_022       48    28
## 4 27123030100 B01001_023        8    13
## 5 27123030100 B01001_024       51    52
## 6 27123030100 B01001_025       23    18</code></pre>
<p>We can see the issue already: for Census Tract 301 in Ramsey County, the ACS estimates a male population aged between 75 and 79 of 16 - with a margin of error exceeding the estimate. One way to address this is through data aggregation. While the estimate for males age 75 to 79 in this Census tract may be unreliable, the estimate for the total population over age 65 in the tract is likely better, but is not available directly from the ACS API. In turn, we can summarize our data.</p>
<p>The US Census Bureau publishes guidelines on how to calculate margins of error for derived estimates (see the footnotes). These formulas are implemented in <strong>tidycensus</strong> in the <code>moe_sum</code>, <code>moe_prop</code>, <code>moe_ratio</code>, and <code>moe_product</code> functions. The example below illustrates the use of <code>moe_sum</code> to calculate the margin of error around a derived estimate for Census tract population over age 65.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ramsey65 &lt;-<span class="st"> </span>ramsey <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(GEOID) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">sumest =</span> <span class="kw">sum</span>(estimate), 
            <span class="dt">summoe =</span> <span class="kw"><a href="../reference/moe_sum.html">moe_sum</a></span>(moe, estimate))

<span class="kw">head</span>(ramsey65)</code></pre></div>
<pre><code>## # A tibble: 6 x 3
##         GEOID sumest    summoe
##         &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt;
## 1 27123030100    677 124.14508
## 2 27123030201    899 200.53678
## 3 27123030202    149  53.76802
## 4 27123030300    783 154.42474
## 5 27123030400    423 131.10301
## 6 27123030500    396 111.04504</code></pre>
<p>The margins of error for this aggregate population are more reasonable. However, the Census Bureau does issue this warning:</p>
<blockquote>
<p>These methods do not consider the correlation or covariance between the basic estimates. They may be overestimates or underestimates of the derived estimate’s standard error, depending on whether the two basic estimates are highly correlated in either the positive or negative direction. As a result, the approximated standard error may not match direct calculations of standard errors or calculations obtained through other methods. <a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></p>
</blockquote>
<p>Dealing with margins of error in the ACS is a complex, yet important topic. This is especially true when dealing with spatial data, and considering ways to aggregate areal units to improve the reliability of estimates. I recommend the following papers for further reading:</p>
<p>Spielman, S.E., and Folch, D.C. (2015). Reducing Uncertainty in the American Community Survey through Data-Driven Regionalization. <em>PLOS ONE</em>. <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0115626" class="uri">http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0115626</a>; Python implementation at <a href="https://github.com/geoss/ACS_Regionalization" class="uri">https://github.com/geoss/ACS_Regionalization</a></p>
<p>Spielman, S.E., and Singleton, A. (2015) Studying Neighborhoods Using Uncertain Data from the American Community Survey: A Contextual Approach. <em>Annals of the Association of American Geographers</em>. <a href="http://www.tandfonline.com/doi/full/10.1080/00045608.2015.1052335" class="uri">http://www.tandfonline.com/doi/full/10.1080/00045608.2015.1052335</a>; R implementation at <a href="https://github.com/geoss/acs_demographic_clusters" class="uri">https://github.com/geoss/acs_demographic_clusters</a>.</p>
<p>Wong, D.W., and Sun, M. (2013). Handling Data Quality Information of Survey Data in GIS: A Case of Using the American Community Survey Data. <em>Spatial Demography</em>. <a href="http://spatialdemography.org/wp-content/uploads/2013/04/2.-Wong-and-Sun.pdf" class="uri">http://spatialdemography.org/wp-content/uploads/2013/04/2.-Wong-and-Sun.pdf</a>.</p>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>United States Census Bureau (2008). A Compass for Understanding and Using American Community Survey Data. <a href="https://www.census.gov/content/dam/Census/library/publications/2008/acs/ACSGeneralHandbook.pdf" class="uri">https://www.census.gov/content/dam/Census/library/publications/2008/acs/ACSGeneralHandbook.pdf</a>.<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>United States Census Bureau (2016). Instructions for Applying Statistical Testing to the 2011-2015 ACS 5-Year Data. <a href="https://www2.census.gov/programs-surveys/acs/tech_docs/statistical_testing/2015StatisticalTesting5year.pdf" class="uri">https://www2.census.gov/programs-surveys/acs/tech_docs/statistical_testing/2015StatisticalTesting5year.pdf</a>.<a href="#fnref2">↩</a></p></li>
</ol>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Kyle Walker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
